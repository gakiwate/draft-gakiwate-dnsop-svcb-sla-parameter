



Domain Name System Operations                                 G. Akiwate
Internet-Draft                                                  T. Pauly
Intended status: Informational                                 Apple Inc
Expires: 28 July 2025                                    24 January 2025


               Service Binding Mapping for Service Levels
             draft-gakiwate-dnsop-svcb-sla-parameter-latest

Abstract

   This document defines a new parameter for use in Service Binding
   (SVCB) and HTTPS DNS resource records which enables authoritative DNS
   servers to indicate that a service supports specific service levels
   or use types, such as "interactive", "background" or "real-time", at
   that endpoint.  Specifically, a service can use this new parameter to
   indicate which specific endpoints a client MAY use for the specific
   service levels indicated.  By providing this information, clients can
   make informed decisions about which service endpoints to use based on
   their specific applications needs at that time.

About This Document

   This note is to be removed before publishing as an RFC.

   The latest revision of this draft can be found at
   https://gakiwate.github.io/draft-gakiwate-dnsop-svcb-sla-parameter/
   draft-gakiwate-dnsop-svcb-sla-parameter.html.  Status information for
   this document may be found at https://datatracker.ietf.org/doc/draft-
   gakiwate-dnsop-svcb-sla-parameter/.

   Discussion of this document takes place on the Domain Name System
   Operations mailing list (mailto:dnsop@ietf.org), which is archived at
   https://mailarchive.ietf.org/arch/browse/dnsop/.  Subscribe at
   https://www.ietf.org/mailman/listinfo/dnsop/.

   Source for this draft and an issue tracker can be found at
   https://github.com/gakiwate/draft-gakiwate-dnsop-svcb-sla-parameter.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 28 July 2025.

Copyright Notice

   Copyright (c) 2025 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction
   2.  Conventions and Definitions
   3.  Motivation
   4.  The "sla" SvcParamKey
     4.1.  Client Behavior
     4.2.  Example Use
   5.  Security Considerations
   6.  IANA Considerations
     6.1.  SVCB Service Parameter
   7.  Normative References
   Appendix A.  Acknowledgments
   Authors' Addresses

1.  Introduction

   The SVCB and HTTPS resource records (RRs) provide clients with
   instructions to connect to a service while avoiding transient
   connections to a suboptimal default server[SVCB].  However, there are
   scenarios in which a client might need to interact differently with a
   service based on their specific needs at the time.  Traditionally,
   the solution to this problem has been to create two services --- one
   for interactive tasks and another for background tasks.  However,
   there are scenarios where a client based on its local context, knows
   that it can improve resource utilization by choosing a "background"
   service level for tasks that are typically considered "interactive".
   The current solution of splitting "interactive" and "background"
   services does not allow clients to utilize its local context to
   improve service adaptability without having to delineate tasks as
   "background", or "interactive" apriori.

   The document defines a new SvcParamKey "sla", short for Service Level
   Attribute, to provide a standardized way for a client to discover
   different service endpoints offering different service levels using
   SVCB / HTTPS RRs.

2.  Conventions and Definitions

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
   "OPTIONAL" in this document are to be interpreted as described in
   BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all
   capitals, as shown here.

3.  Motivation

   In modern network environments, deployment scenarios often involve
   diverse application traffic types, such as interactive video
   conferencing, real-time gaming, and background file synchronization,
   each with distinct performance requirements.  Interactive traffic
   typically demands low latency and high responsiveness, while
   background traffic prioritizes throughput and efficiency over
   immediacy.  Moreover, where in the network enviornment these demands
   can be relaibly and efficiently met also differ.

   The "sla" parameter enables authoritative DNS servers to signal these
   distinctions, thereby allowing clients to route traffic
   intelligently.  This capability is particularly useful in load-
   balancing scenarios, where providers can allocate interactive traffic
   to low-latency, high-performance servers while directing background
   tasks to cost-effective, high-throughput infrastructure.

   Allowing clients explicit control over which service level to use
   benefits a range of stakeholders, including service operators, by
   improving quality of service (QoS), optimizing resource utilization,
   and enhancing end-user experience.

4.  The "sla" SvcParamKey

   The "sla" SvcParamKey, short for Service Level Attribute, is used to
   indicate that a service described in SVCB RR supports a specific
   service level use type.  A endpoint can support multiple service
   levels.  To support multiple service level types at different
   endpoints, multiple SVCB / HTTPS RRs with the same SvcPriority SHOULD
   be used.

   The presentation value for "sla" SHALL be a comma-seperated list of
   one or more integers (1-octet) indicating the service level use.  A
   service endpoint may serve more than one service level.  A lower
   value indicates a more cost-effective, high-throughput endpoint while
   a higher value indicates a low-latency, high-performance endpoint.  A
   sla=0 can be thought of as a endpoint supporting "background" tasks
   such as performing backups.  A sla=1 can be thought of as a endpoint
   supporting "interactive" tasks such sending messages, while a sla=2
   can be thought of as a endpoint supporting "real-time" tasks such as
   invoking a voice assistant.  This documents defines three service
   levels, and restricts the values of sla to 0, 1, or 2.  Future
   documents may choose to extend this number.

   The wire format for the "sla" parameter is a sequence of service
   levels each denoted by a 1-octet numeric.

4.1.  Client Behavior

   The "sla" parameter in the SVCB / HTTPS records indicates that the
   domain owner recommends the use a specific endpoint for a specific
   service level use type.  On receiving the RRs with the "sla"
   parameter, clients SHOULD use it as a filter to decide which RRs to
   use when.  Since this document only defines three service levels, a
   client SHOULD ignore any SVCB RRs with an "sla" value greater than 2.
   It is possible that certain RRs are never used by some clients.

   To use the RRs, the client first determines its service level, and
   then filters down to only RRs with "sla" values equal to or lesser
   than its own perceived service level.  A RR without a "sla" is
   considered equivalent to sla=0.  The client then performs a multi-
   level sort, first using the "sla" values and then SvcPriority values.
   If multiple RRs have the same SvcPriority value and "sla" the client
   MAY apply a random shuffle.  If no RRs match, SVCB resolution has
   failed, and the list of available endpoints is empty.  Note, the
   client may end up using a RR with a "sla" lesser than its initial
   determined level, or a service endpoint with a lower SvcPriority.  To
   prevent this behavior, service operators SHOULD NOT have gaps in
   supported "sla" values.  This behavior updates how a client treats
   multiple SVCB records [SVCB] with the same SvcPriority value.

4.2.  Example Use

   A service that supports "interactive" and "background" endpoints can
   signal support to the client by populating a SVCB / HTTPS RR as so:

   svc.example.com 7200 IN SVCB 1 background.svc.example.com ( alpn=h2,
   sla=0, mandatory=sla) svc.example.com 7200 IN SVCB 1
   interactive.svc.example.com ( alpn=h2, sla=1 )

   In the above example, a client that determines it wants a "real-time"
   service level will first filter for RRs with sla values lesser than
   2.  In this case, both RRs satisfy the constraint.  The client then
   sorts it by the sla values.  The client thus uses
   interactive.svc.example.com endpoint.  The service operator also use
   the mandatory flag for the background service, so that clients who do
   not support the SvcLvlAttr default to the interactive endpoint.

   A service operator can also have the same endpoint offer multiple
   service levels with an additional SVCB record as so:

   svc.example.com 7200 IN SVCB 1 realtime.svc.example.com ( alpn=h2,
   sla=1,2 )

   With this additional record, a client that determines it wants a
   "real-time" service level will use this new endpoint.  A client that
   determines it service level to be "interactive" (sla=1), can use
   either the interactive.svc.example.com or the
   realtime.svc.example.com endpoint.

5.  Security Considerations

6.  IANA Considerations

6.1.  SVCB Service Parameter

   This document adds the following entry to the "Service Parameter Keys
   (SvcParamKeys)" registry.

     +========+======+===============+===================+===========+
     | Number | Name | Meaning       | Change Controller | Reference |
     +========+======+===============+===================+===========+
     | TBD    | sla  | Service Level |                   |           |
     |        |      | Attribute     |                   |           |
     +--------+------+---------------+-------------------+-----------+

                                  Table 1

7.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/rfc/rfc2119>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/rfc/rfc8174>.

   [SVCB]     Schwartz, B., Bishop, M., and E. Nygren, "Service Binding
              and Parameter Specification via the DNS (SVCB and HTTPS
              Resource Records)", RFC 9460, DOI 10.17487/RFC9460,
              November 2023, <https://www.rfc-editor.org/rfc/rfc9460>.

Appendix A.  Acknowledgments

Authors' Addresses

   Gautam Akiwate
   Apple Inc
   Email: gakiwate@apple.com


   Tommy Pauly
   Apple Inc
   Email: tpauly@apple.com
